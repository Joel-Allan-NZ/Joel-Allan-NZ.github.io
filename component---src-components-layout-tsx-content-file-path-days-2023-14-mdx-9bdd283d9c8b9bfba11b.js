"use strict";(self.webpackChunkjoel_allan_nz_github_io=self.webpackChunkjoel_allan_nz_github_io||[]).push([[74],{8161:function(n,e,t){t.r(e),t.d(e,{Head:function(){return g},default:function(){return h}});var o=t(8453),r=t(6540);function s(n){const e=Object.assign({h2:"h2",p:"p",pre:"pre",code:"code"},(0,o.RP)(),n.components),{CodeBox:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("CodeBox",!0),r.createElement(r.Fragment,null,r.createElement(e.h2,null,"Part One"),"\n",r.createElement(e.p,null,"Nice and easy; purely reading the input and proving we can generate a value from it. Usually I refactor the first part when it could share code with part two, but with no need to actually manipulate the input here I opted not to."),"\n",r.createElement(t,{names:"typescript|C#"},r.createElement(e.pre,null,r.createElement(e.code,{className:"language-ts"},"export function partOne(input: string[]): number | string {\n  let total = 0\n  for (let x = 0; x < input[0].length; x++) {\n    let end = 0\n    for (let y = 0; y < input.length; y++) {\n      if (input[y][x] == 'O') {\n        total += input.length - end\n        end++\n      } else if (input[y][x] == '#') end = y + 1\n    }\n  }\n  return total\n}\n")),r.createElement(e.pre,null,r.createElement(e.code,{className:"language-csharp"},"public override object PartOne()\n{\n    int total = 0;\n    for (int x = 0; x < Input[0].Length; x++)\n    {\n        int end = 0;\n        for (int y = 0; y < Input.Length; y++)\n        {\n            if (Input[y][x] == 'O')\n            {\n                total += Input.Length - end;\n                end++;\n            }\n            else if (Input[y][x] == '#')\n            {\n                end = y + 1;\n            }\n        }\n    }\n    return total;\n}\n"))),"\n",r.createElement(e.h2,null,"Part Two"),"\n",r.createElement(e.p,null,"Phew, 1 billion spins is a lot."),"\n",r.createElement("br"),"\n",r.createElement(e.p,null,"But, such a large number of repetitions is a big hint that we're looking for a cycle. Unsurprisingly there are repeated positions quite early in to the billion spins. Once that cycle is discovered we can trivially determine the position after the billionth spin and calculate the load on the north support beams."),"\n",r.createElement(t,{names:"typescript|C#"},r.createElement(e.pre,null,r.createElement(e.code,{className:"language-ts"},"export function partTwo(input: string[]): number | string {\n  const seen = new Map<string, number>()\n  let stones: string[][] = []\n  let cycles = 0\n  input.forEach((y) => stones.push(y.split('')))\n  const targetCycles = 1000000000\n  while (cycles < targetCycles) {\n    const stoneString = stones\n      .reduce((a, b) => a + ';' + b.join(''), '')\n      .slice(1)\n    const last = seen.get(stoneString)\n    seen.set(stoneString, cycles)\n\n    if (last) {\n      const index = ((targetCycles - last) % (cycles - last)) + last\n      stones = seen\n        .entries()\n        .find((x) => x[1] == index)![0]!\n        .split(';')\n        .map((x) => x.split(''))\n\n      break\n    }\n    vertical(stones, 1)\n    horizontal(stones, 1)\n    vertical(stones, -1)\n    horizontal(stones, -1)\n    cycles++\n  }\n\n  let total = 0\n  for (let x = 0; x < stones[0].length; x++)\n    for (let y = 0; y < stones.length; y++)\n      if (stones[y][x] == 'O') total += stones.length - y\n\n  return total\n}\n\nfunction vertical(stones: string[][], direction: number): void {\n  for (let x = 0; x < stones[0].length; x++) {\n    let end = direction == -1 ? stones.length - 1 : 0\n    let rowEnd = direction == -1 ? -1 : stones.length\n\n    for (let y = end; y != rowEnd; y += direction) {\n      if (stones[y][x] == 'O') {\n        if (end != y) {\n          stones[end][x] = 'O'\n          stones[y][x] = '.'\n        }\n        end += direction\n      } else if (stones[y][x] == '#') end = y + direction\n    }\n  }\n}\n\nfunction horizontal(stones: string[][], direction: number): void {\n  for (let y = 0; y < stones.length; y++) {\n    let end = direction == -1 ? stones.length - 1 : 0\n    let rowEnd = direction == -1 ? -1 : stones.length\n\n    for (let x = end; x != rowEnd; x += direction) {\n      if (stones[y][x] == 'O') {\n        if (end != x) {\n          stones[y][end] = 'O'\n          stones[y][x] = '.'\n        }\n        end += direction\n      } else if (stones[y][x] == '#') end = x + direction\n    }\n  }\n}\n")),r.createElement(e.pre,null,r.createElement(e.code,{className:"language-csharp"},"public override object PartTwo()\n{\n    Dictionary<string, int> seen = [];\n    char[][] stones = new char[Input.Length][];\n    int cycles = 0;\n\n    for (int y = 0; y < Input.Length; y++)\n        stones[y] = Input[y].ToCharArray();\n\n    while (cycles < 1_000_000_000)\n    {\n        var stoneString = stones.Aggregate(\"\", (x, y) => x + \";\" + new string(y))[1..];\n        if (seen.TryGetValue(stoneString, out var val))\n        {\n            var index = (1_000_000_000 - val) % (cycles - val) + val;\n            stones = seen.First(x => x.Value == index).Key\n                         .Split(';')\n                         .Select(x => x.ToCharArray())\n                         .ToArray();\n            break;\n        }\n        else\n            seen.Add(stoneString, cycles);\n\n        Vertical(stones, 1);\n        Horizontal(stones, 1);\n        Vertical(stones, -1);\n        Horizontal(stones, -1);\n        cycles++;\n    }\n\n    int total = 0;\n\n    for (int x = 0; x < stones[0].Length; x++)\n    {\n        for (int y = 0; y < stones.Length; y++)\n        {\n            if (stones[y][x] == 'O')\n                total += stones.Length - y;\n        }\n\n    }\n    return total;\n}\n\nprivate static void Vertical(char[][] stones, int direction)\n{\n    for (int x = 0; x < stones[0].Length; x++)\n    {\n        int end = direction == -1 ? stones.Length - 1 : 0;\n        int RowEnd = direction == -1 ? -1 : stones.Length;\n\n        for (int y = end; y != RowEnd; y += direction)\n        {\n            if (stones[y][x] == 'O')\n            {\n                if (end != y)\n                {\n                    stones[end][x] = 'O';\n                    stones[y][x] = '.';\n                }\n                end += direction;\n\n            }\n            else if (stones[y][x] == '#')\n                end = y + direction;\n        }\n    }\n}\n\nprivate static void Horizontal(char[][] stones, int direction)\n{\n    for (int y = 0; y < stones.Length; y++)\n    {\n        int end = direction == -1 ? stones[y].Length - 1 : 0;\n        int RowEnd = direction == -1 ? -1 : stones[y].Length;\n\n        for (int x = end; x != RowEnd; x += direction)\n        {\n            if (stones[y][x] == 'O')\n            {\n                if (end != x)\n                {\n                    stones[y][end] = 'O';\n                    stones[y][x] = '.';\n                }\n                end += direction;\n            }\n            else if (stones[y][x] == '#')\n                end = x + direction;\n        }\n    }\n}\n"))))}var i=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,o.RP)(),n.components);return e?r.createElement(e,n,r.createElement(s,n)):s(n)};var l=t(2779),a=t(7206),c=t(791),d=t(4813),y=t(572);const u={CodeBox:l.A};function p(n){let{pageContext:e,children:t}=n;return r.createElement(r.Fragment,null,r.createElement(d.A,null),r.createElement("div",{className:"min-h-screen bg-chicPrimary"},r.createElement(c.A,{props:e.list}),r.createElement("div",{className:"adventofcode max-w-[60%] ml-[20%]"},r.createElement("h1",null,r.createElement("a",{href:"https://adventofcode.com/"+e.year+"/day/"+e.puzz},e.year+" Day "+e.puzz+" - "+e.title)),r.createElement(o.xA,{components:u},t),e.puzz&&e.year?r.createElement(a.A,{year:e.year,puzz:e.puzz}):r.createElement(r.Fragment,null))),r.createElement(y.A,null))}function h(n){return r.createElement(p,n,r.createElement(i,n))}const g=()=>r.createElement(r.Fragment,null,r.createElement("title",null,"Joel-Allan-NZ - Advent of Code"),r.createElement("html",{lang:"en"}),r.createElement("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),r.createElement("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),r.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Roboto+Serif:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&family=VT323&display=swap",rel:"stylesheet"}))}}]);
//# sourceMappingURL=component---src-components-layout-tsx-content-file-path-days-2023-14-mdx-9bdd283d9c8b9bfba11b.js.map